<form class="{{cssClass}}" autocomplete="off">

  <header class="">

    <div class="grid header-grid-2col">

      <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" />
      <div class="name-grid-2col">
        <h2 class="grid-item-stretch-height-to-fit"><span class="bold-header">Name:</span></h2>
        <h2 class="grid-item-stretch-height-to-fit">
          <input name="name" class="grid-item-stretch-height-to-fit" type="text" value="{{actor.name}}" title="" />
        </h2>
        {{#if_eq actor.type 'pc'}}
        <h3 class="grid-item-stretch-height-to-fit"><span class="bold-header">Background:</span></h3>
        <h3 class="grid-item-stretch-height-to-fit">
          <input name="system.background" class="grid-item-stretch-height-to-fit" type="text"
            value="{{actor.system.background}}" placeholder="" />
        </h3>
        {{/if_eq}}
        {{#if_eq actor.type 'npc'}}
        <h3 class="grid-item-stretch-height-to-fit"><span class="bold-header">Mien:</span></h3>
        <h3 class="grid-item-stretch-height-to-fit">
          <input name="system.mien" class="grid-item-stretch-height-to-fit" type="text"
            value="{{actor.system.mien}}" placeholder="" />
        </h3>
        {{/if_eq}}

        <div class="attributes-container">
          <h3><i class="fas fa-sword"><span> Skill</span></i></h3>
          <h3><i class="fas fa-heart"><span> Stamina</span></i></h3>
          <h3><i class="fas fa-shield"><span> Armor</span></i></h3>
          {{#if_eq actor.type 'pc'}}
          <h3><i class="fas fa-star"><span> Luck</span></i></h3>
          {{/if_eq}}
          {{#if_eq actor.type 'npc'}}
          <h3><i class="fas fa-bolt"><span> Initiative</span></i></h3>
          {{/if_eq}}

          <div class="">
            <input class="center-aligned-input-text" inputmode="numeric" name="system.skill.value"
              value="{{actor.system.skill.value}}" />
          </div>
          <div class="attribute-container">
            <input class="center-aligned-input-text" name="system.stamina.value"
              value="{{actor.system.stamina.value}}" />
            <span class="">/</span>
            <input class="center-aligned-input-text" inputmode="numeric" name="system.stamina.max"
              value="{{actor.system.stamina.max}}" />
          </div>
          <div>
            <input class="center-aligned-input-text" inputmode="numeric" name="system.armor"
              value="{{actor.system.armor}}" />
          </div>
          <div class="attribute-container">
            {{#if_eq actor.type 'pc'}}
            <input class="center-aligned-input-text" inputmode="numeric" name="system.luck.value"
              value="{{actor.system.luck.value}}" />
            <span class="">/</span>
            <input class="center-aligned-input-text" inputmode="numeric" name="system.luck.max"
              value="{{actor.system.luck.max}}" />
            {{/if_eq}}
            {{#if_eq actor.type 'npc'}}
            <input class="center-aligned-input-text" inputmode="numeric" name="system.initiativeTokens"
              value="{{actor.system.initiativeTokens}}" />
            
            {{/if_eq}}
          </div>
        </div>

      </div>

    </div>

  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
      <a class="item" data-tab="skills"><h3 class="no-underline">Advanced Skills & Spells</h3></a>
      <a class="item" data-tab="inventory"><h3 class="no-underline">Inventory</h3></a>    
      <a class="item" data-tab="notes"><h3 class="no-underline">Notes</h3></a>
  </nav>

  <section class="sheet-body">

    <div class="tab" data-tab="skills" data-group="primary">

      <div class="attacks-section">
        <h3 class="bolded-label no-underline">Attacks</h3>
        <ol>
          <li class="attacks-grid">
            <h4 class="grid-header-label">Name</h4>
            <h4 class="grid-header-label">1</h4>
            <h4 class="grid-header-label">2</h4>
            <h4 class="grid-header-label">3</h4>
            <h4 class="grid-header-label">4</h4>
            <h4 class="grid-header-label">5</h4>
            <h4 class="grid-header-label">6</h4>
            <h4 class="grid-header-label">7+</h4>
          </li>

          {{#each actor.attacks as |item id|}}
          <li class="attacks-grid item" data-item-id="{{item._id}}"> 
            <h4>{{item.name}}</h4>
            <h4>{{item.system.attack.dr1}}</h4>
            <h4>{{item.system.attack.dr2}}</h4>
            <h4>{{item.system.attack.dr3}}</h4>
            <h4>{{item.system.attack.dr4}}</h4>
            <h4>{{item.system.attack.dr5}}</h4>
            <h4>{{item.system.attack.dr6}}</h4>
            <h4>{{item.system.attack.dr7}}</h4>
          </li>
          {{/each}}
        </ol>
    </div>

      <div>
        <h3 class="bolded-label no-underline">Skills & Spells</h3>        

        <ol>

          <li class="skills-and-spells-grid item">
            <h4 class="grid-header-label">Improve</h4>
            <h4 class="grid-header-label">Name</h4>
            <h4 class="grid-header-label">Cost</h4>
            <h4 class="grid-header-label">Rank</h4>
            <h4 class="grid-header-label">Other</h4>
            <h4 class="grid-header-label">Total</h4>
            <h4 class="grid-header-label">Edit</h4>
            <h4 class="grid-header-label">Delete</h4>
          </li>

          {{#each actor.advancedSkills as |item id|}}
          <li class="skills-and-spells-grid item" data-item-id="{{item._id}}">            
            <input type="checkbox" class="item-improve-checkbox" name="system.improvement" {{checked item.system.improvement}} data-dtype="Boolean" readonly />
            <h4>{{item.name}}</h4>

            <span>-</span>
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" name="system.rank" value="{{item.system.rank}}" readonly />
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" name="system.modifier" value="{{item.system.modifier}}" readonly />
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" value="{{sum_three_ints item.system.rank item.system.modifier ../actor.system.skill.value}}" readonly />
            
            <div class="">
              <a class="item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>              
            </div>
            <div class="" >
              <a class="item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </div>
          </li>
          {{/each}}
          
          {{!-- put a divider inbetween skills and spells to make it easier to differentiate --}}
          <hr class="solid-divider">

          {{#each actor.spells as |item id|}}
          <li class="skills-and-spells-grid item" data-item-id="{{item._id}}">            
            <input type="checkbox" class="item-improve-checkbox" name="system.improvement" {{checked item.system.improvement}} data-dtype="Boolean" readonly />
            <h4>{{item.name}}</h4>

            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" name="system.castingCost" value="{{item.system.castingCost}}" readonly />
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" name="system.rank" value="{{item.system.rank}}" readonly />
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" name="system.modifier" value="{{item.system.modifier}}" readonly />
            <input class="center-aligned-input-text bottom-margin-input-text" inputmode="numeric" value="{{sum_three_ints item.system.rank item.system.modifier ../actor.system.skill.value}}" readonly />
            
            <div class="">
              <a class="item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>              
            </div>
            <div class="" >
              <a class="item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </div>
          </li>
          {{/each}}

        </ol>

        <div class="skills-add-buttons-grid">
          <div class="item-controls skills-add-button">
            <a class="item-control item-create" data-type="spell"><i class="fas fa-plus"></i>Add Spell</a>                  
          </div>
          <div class="item-controls skills-add-button">
            <a class="item-control item-create" data-type="skill"><i class="fas fa-plus"></i>Add Skill</a>                  
          </div>
        </div>

      </div>
      
    </div>
  
    <div class="tab" data-tab="inventory" data-group="primary" >
      
      <div>
        
        <div class="monies-provisions-grid">
          
          <h3 class="bolded-label grid-item-stretch-height-to-fit">Monies/Other Items</h3>
          <h3 class=" bolded-label grid-item-stretch-height-to-fit">Provisions</h3>

          <div class="grid-item-stretch-height-to-fit">
            <textarea class="grid-item-stretch-height-to-fit" rows="3" cols="1"
              name="system.monies">{{actor.system.monies}}</textarea>
          </div>

          <div class="provisions-grid">

            <input type="checkbox" class="" name="system.provisions.p1" {{checked actor.system.provisions.p1}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p2" {{checked actor.system.provisions.p2}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p3" {{checked actor.system.provisions.p3}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p4" {{checked actor.system.provisions.p4}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p5" {{checked actor.system.provisions.p5}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p6" {{checked actor.system.provisions.p6}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p7" {{checked actor.system.provisions.p7}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p8" {{checked actor.system.provisions.p8}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p9" {{checked actor.system.provisions.p9}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p10" {{checked actor.system.provisions.p10}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p11" {{checked actor.system.provisions.p11}} data-dtype="Boolean" />
            <input type="checkbox" class="" name="system.provisions.p12" {{checked actor.system.provisions.p12}} data-dtype="Boolean" />
          </div>

        </div>
                
      </div>

      <div>
        <h3 class="bolded-label no-underline small-bottom-margin top-margin-10px">Pack</h3>
      </div>

      <div>
        
        <ol>
          
          <li class="all-inventory-grid">            
            <h4 class=""></h4>
            <h4 class=""></h4>
            <h4 class="grid-header-label">#</h4>
            <h4 class="grid-header-label">Name</h4>
            <h4 class="grid-header-label">Edit</h4>
            <h4 class="grid-header-label">Delete</h4>
          </li>
          {{#each actor.inventory as |item id|}}
          <li class="all-inventory-grid item" data-item-id="{{item._id}}">                                   

            <a class="item-inventory-up"><i class="fa-solid fa-up"></i></a>

            <a class="item-inventory-down"><i class="fa-solid fa-down"></i></a>

            <h4>{{item.system.inventoryPosition}}</h4> 

            <h4>{{item.name}}</h4>

            <div class="">
              <a class="item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>              
            </div>
            <div class="" >
              <a class="item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </div>
          </li>
          {{/each}}
        </ol>

      </div>

      <div class="skills-add-buttons-grid">
        <div class="item-controls skills-add-button no-bottom-padding">
          <a class="item-control item-create" data-type="gear"><i class="fas fa-plus"></i>Add Item</a>                  
        </div>
      </div>

    </div>
  
    <div class="tab notes" data-tab="notes" data-group="primary" >
      <div>
        <h3 class="bolded-label grid-item-stretch-height-to-fit no-underline">Special/Abilities</h3>
        <div class="grid-item-stretch-height-to-fit">
          <textarea class="grid-item-stretch-height-to-fit" rows="6" cols="1"
            name="system.special">{{actor.system.special}}</textarea>
        </div>
      </div>
      <div>
        <h3 class="bolded-label grid-item-stretch-height-to-fit no-underline">Other Notes</h3>
        <div class="grid-item-stretch-height-to-fit">
          <textarea class="grid-item-stretch-height-to-fit" rows="15" cols="1"
            name="system.notes">{{actor.system.notes}}</textarea>
        </div>
      </div>
      
    </div>

  </section>
  
</form>